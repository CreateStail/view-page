<div class="ui left attached rail i-padded-l-big stackable">
	<div class="ui sticky">
		<div class="ui  segment">
			<div class="ui vertical  menu toolMenu">
				<a class="item" id="toHome">
					简介
				</a>
				<a class="item" id="toBackground">
					背景
				</a>
				<a class="item" id="toData">
					数据集
				</a>
				<a class="item" id="toProgram">
					技术方案
				</a>
				<a class="item" id="toCode">
					实现代码
				</a>
			</div>
		</div>
	</div>
</div>

<script>
	$(function() {
		$('.ui.sticky')
			.sticky({
				context: '#waypoint'
			});

		var themeId = getQueryVariable("theme_id");
		if(themeId == false) {
			//因为工具html加载时,主题列表还未初始化取不到第一个主题ID,这里再发一次请求
			getDefaultThemeId();

		} else {
			$('#toHome').attr('href', "http://" + window.location.host + '/home.html?theme_id=' + themeId);
			$('#toBackground').attr('href', "http://" + window.location.host + '/view-page/view/background.html?theme_id=' + themeId);
			$('#toData').attr('href', "http://" + window.location.host + '/view-page/view/data.html?theme_id=' + themeId);
			$('#toProgram').attr('href', "http://" + window.location.host + '/view-page/view/program.html?theme_id=' + themeId);
			$('#toCode').attr('href', "http://" + window.location.host + '/view-page/view/code.html?theme_id=' + themeId);
		}

	})

	function getDefaultThemeId() {
		$.ajax({
			url: '/view-server/Api/View/getDefaultThemeId',
			type: "get",
			async: false,
			success: function(res) {
				themeId = res.data;
				$('#toHome').attr('href', "http://" + window.location.host + '/home.html?theme_id=' + themeId);
				$('#toBackground').attr('href', "http://" + window.location.host + '/view-page/view/background.html?theme_id=' + themeId);
				$('#toData').attr('href', "http://" + window.location.host + '/view-page/view/data.html?theme_id=' + themeId);
				$('#toProgram').attr('href', "http://" + window.location.host + '/view-page/view/program.html?theme_id=' + themeId);
				$('#toCode').attr('href', "http://" + window.location.host + '/view-page/view/code.html?theme_id=' + themeId);

			}
		})
	}
	
	$('.toolMenu a').on('click',function(){
/*		$('.toolMenu a').removeClass('active');
		$(this).addClass('active');*/
//		$(this).addClass('acitve teal').siblings('a').removeClass('active');
	})

</script>